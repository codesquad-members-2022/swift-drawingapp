# Step3-2. ì†ì„± ë³€ê²½ ë™ì‘

## ğŸ’» ì‘ì—… ëª©ë¡

- [x] ì§€ë‚œ PR ë¦¬ë·° ë°˜ì˜
  - [x] Alpha ë‚´ë¶€ì— opacity ë³€ìˆ˜ë¡œ íˆ¬ëª…ë„ ë‚˜íƒ€ë‚´ë„ë¡ ìˆ˜ì •
  - [x] ì´ë‹ˆì…œë¼ì´ì €ì—ì„œ minValue = 0, maxValue = 255ë¡œ ë‘ê³  ë¹„êµí•˜ì—¬ minValueë³´ë‹¤ ì‘ì€ ê°’ì´ ë“¤ì–´ì˜¨ë‹¤ë©´ 0ì„, maxValueë³´ë‹¤ í° ê°’ì´ ë“¤ì–´ì˜¤ë©´ 255ë¥¼ ì£¼ë„ë¡ ìˆ˜ì •
  - [x] Id í´ë˜ìŠ¤ë¥¼ ë”°ë¡œ ìƒì„±í•˜ê³  ë‚´ë¶€ì— ë©”ì†Œë“œ ì¶”ê°€
  - [x] íŒ©í† ë¦¬ ë©”ì†Œë“œ ìˆ˜ì •
- [x] SideInspectorView ìƒì„±
- [x] SideInsepctorViewì—ì„œ ì‚¬ê°í˜• ë²„íŠ¼ í´ë¦­ ì‹œ, ë·°ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì§ì‚¬ê°í˜• ê·¸ë¦¬ë„ë¡ delegate ì„¤ì •
- [x] Plane êµ¬ì¡°ì²´ Test ì¶”ê°€í•˜ê¸°
- [x] SideInspectorViewë¥¼ ì œì™¸í•œ ì˜ì—­ì— ì‚¬ê°í˜•ì´ ê·¸ë ¤ì§€ë„ë¡ í•˜ê¸°
- [x] í„°ì¹˜ë  ë–„ë§ˆë‹¤ í•´ë‹¹ ìœ„ì¹˜ì— ì‚¬ê°í˜•ì´ ìˆëŠ”ì§€ í™•ì¸
  - [x] ì‚¬ê°í˜•ì´ ìˆë‹¤ë©´, ì‚¬ê°í˜•ì´ ì„ íƒëœë‹¤.
  - [x] ì‚¬ê°í˜•ì´ ì—†ë‹¤ë©´ ê¸°ì¡´ì— ì„ íƒëœ ì‚¬ê°í˜•ì„ ì„ íƒ ì·¨ì†Œí•œë‹¤. ê¸°ì¡´ì— ì„ íƒëœ ì‚¬ê°í˜•ì´ ì—†ì„ ê²½ìš° ì•„ë¬´ ë™ì‘ë„ í•˜ì§€ ì•ŠëŠ”ë‹¤.
- [x] ì‚¬ê°í˜• í…Œë‘ë¦¬ì— ì„ ì„ í‘œì‹œí•´ì„œ ì„ íƒëœ ê²ƒì„ ì¸ì§€ì‹œí‚¤ê¸°
- [x] ì‚¬ê°í˜•ì„ ì„ íƒí•˜ë©´ í™”ë©´ ìš°ì¸¡ì— í•´ë‹¹ ì‚¬ê°í˜•ì˜ í˜„ì¬ ë°°ê²½ìƒ‰ê³¼ íˆ¬ëª…ë„ê°€ ë°˜ì˜ëœë‹¤.
- [x] ë°°ê²½ìƒ‰ ë²„íŠ¼ ëˆ„ë¥´ë©´ ëœë¤í•œ ì¶”ì²œ ìƒ‰ìƒìœ¼ë¡œ ë³€ê²½
- [x] íˆ¬ëª…ë„ëŠ” 10ë‹¨ê³„ë¡œ ë‚˜ëˆ ì„œ ë³€ê²½í•˜ê³ , alpha ê°’ì„ ë‹¨ê³„ë¡œ ë‚˜ëˆ  ì ìš©í•œë‹¤.
- [x] íˆ¬ëª…ë„ ì¢Œ, ìš°ì— ë²„íŠ¼ì€ ê°ê° íˆ¬ëª…ë„ ë‹¨ê³„ë¥¼ -1, +1 ì‹œí‚¨ë‹¤. 

## ğŸ“± ì‹¤í–‰ í™”ë©´

![ezgif com-gif-maker (1)](https://user-images.githubusercontent.com/95578975/158830805-a03375ac-5805-4db5-81a1-fe07c396acfb.gif)

## ğŸ¤” ê³ ë¯¼ê³¼ í•´ê²° (1)

### 1ï¸âƒ£ Alphaì— opacityë¥¼ ì¶”ê°€í•˜ëŠ” ê³¼ì •ì—ì„œ ì˜¤ì°¨ ë°œìƒ

Alphaì˜ rawValue ê°’ì„ Doubleë¡œ ë³€í™˜í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ 0.1ë¡œ ê³±í•˜ëŠ” ê³¼ì •ì—ì„œ ì˜¤ì°¨ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

rawValueë¥¼ Doubleë¡œ ë³€í™˜í•˜ëŠ” ë°ê¹Œì§€ëŠ” ë¬¸ì œê°€ ì—†ì—ˆì§€ë§Œ, 0.1ë¡œ ê³±í•˜ëŠ” ê³¼ì •ì—ì„œ ë¶€ë™ ì†Œìˆ˜ì ì˜ ë¶€ì •í™•ì„±ìœ¼ë¡œ ì¸í•´ ì˜¤ì°¨ê°€ ë°œìƒí•œ ê²ƒì¸ë°, 0.1ì„ ê³±í•˜ì§€ ì•Šê³  10ì„ ë‚˜ëˆ ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

### 2ï¸âƒ£ ìƒ‰ìƒ ê°’ì„ 16ì§„ìˆ˜ë¡œ ë‚˜íƒ€ë‚´ëŠ” backgroundColorValueView ì†ì„± ì ìš© ë¬¸ì œ

backgroundColorValueViewì˜ width, heightë¥¼ ì„¤ì •í•´ì£¼ì§€ ì•Šì•„ì„œ ìƒê¸´ ë¬¸ì œì˜€ìŠµë‹ˆë‹¤. width, height ì„¤ì •í•˜ë‹ˆ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.
 
### 4ï¸âƒ£ ë·°ì—ì„œ ì„ íƒí•œ ì¢Œí‘œì— ì‚¬ê°í˜•ì´ ìˆëŠ”ì§€ í‘œì‹œí•˜ê¸°

- ë·°ì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ê²½ìš°, UITapGestureë¡œ ë·°ì—ì„œ ì„ íƒí•œ ì¢Œí‘œë¥¼ ë¨¼ì € ì–»ì—ˆìŠµë‹ˆë‹¤. 
- ViewControllerë¥¼ CanvasViewì˜ Delegateë¡œ ì§€ì •í•˜ì—¬ VCì— ì¢Œí‘œë¥¼ ì „ë‹¬í•˜ê³  (`canvasViewDidTouched`), í•´ë‹¹ ì¢Œí‘œê°€ Plane ë‚´ì˜ ì§ì‚¬ê°í˜•ì„ í¬í•¨í•˜ëŠ”ì§€ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤. (`findRectangle(on:)`) 
- ì„ íƒëœ ì¢Œí‘œì— ì§ì‚¬ê°í˜•ì´ ì¡´ì¬í•œë‹¤ë©´ Planeì€ `findRectangle(on:)`ì—ì„œ ì§ì‚¬ê°í˜•ì„ ë¦¬í„´í•˜ê³ , ì§ì‚¬ê°í˜•ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ nilì„ ë¦¬í„´í•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤. 
  - ViewControllerì— ì„ íƒëœ ì§ì‚¬ê°í˜•ì„ ë‚˜íƒ€ë‚´ëŠ” selectedRectangleì´ë€ ë³€ìˆ˜ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
  - ì§ì‚¬ê°í˜•ì´ ì¡´ì¬í•œë‹¤ë©´ selectedRectangleì— ì €ì¥í•´ì£¼ì—ˆê³ , canvasViewì— í•´ë‹¹ ì§ì‚¬ê°í˜•ì´ ì„ íƒë˜ì—ˆë‹¤ê³  í‘œì‹œí•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
  - ì§ì‚¬ê°í˜•ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì•„ë¬´ ê²ƒë„ ì—†ëŠ” ë¹ˆ ê³µê°„ì„ ì„ íƒí•œ ê²ƒì´ë¯€ë¡œ canvasViewì˜ `initializeRectangle()`ë¥¼ í˜¸ì¶œí•˜ì—¬ ì„ íƒëœ ì§ì‚¬ê°í˜•ì´ ì—†ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤. (ì´ì „ì— ì„ íƒëœ ì§ì‚¬ê°í˜•ì´ ìˆì„ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì—) ê·¸ë¦¬ê³  selectedRectangleë¥¼ nilë¡œ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.

### 5ï¸âƒ£ ì‚¬ê°í˜•ì„ ì„ íƒí•˜ë©´ í™”ë©´ ìš°ì¸¡ì— í•´ë‹¹ ì‚¬ê°í˜•ì˜ í˜„ì¬ ë°°ê²½ìƒ‰, íˆ¬ëª…ë„ ë°˜ì˜í•˜ê¸°

- ViewControllerê°€ ë·°ì—ì„œ ì‚¬ê°í˜•ì„ ì„ íƒí–ˆë‹¤ëŠ” ê²ƒì€ ìœ„ì˜ 4ï¸âƒ£ì˜ ê³¼ì • (`findRectangle`)ì„ í†µí•´ì„œ ì•Œì•„ì˜¬ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ViewControllerë¥¼ Planeì˜ delegateë¡œ ì§€ì •í•˜ì˜€ê³ , `planeDidTouchedRectangle(_:)` ë©”ì†Œë“œë¥¼ í†µí•´ ì„ íƒëœ ì‚¬ê°í˜•ì˜ ìƒ‰ìƒê³¼ íˆ¬ëª…ë„ ê°’ì„ SideInspectorViewì— ì „ë‹¬í•˜ì˜€ìŠµë‹ˆë‹¤.

### 6ï¸âƒ£ ì‚¬ê°í˜•ì˜ ì†ì„± ë³€ê²½í•˜ê¸° - ìƒ‰ìƒ ë²„íŠ¼ì´ íƒ­ ë˜ì—ˆì„ ë•Œ, ìŠ¬ë¼ì´ë” ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ

- SideInspectorViewì—ì„œ ìƒ‰ìƒ ë²„íŠ¼ì´ íƒ­ ë˜ëŠ” ê²½ìš°ëŠ” `sideInspectorViewDidTappedColorButton(_:)` ë©”ì†Œë“œë¥¼, ìŠ¬ë¼ì´ë” ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œì˜ ê²½ìš°ëŠ” `sideInspectorViewSliderValueDidChanged(_:)` ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

- ViewControllerë¥¼ SideInspectorViewì˜ delegateë¡œ ì§€ì •í–ˆê³ , ìƒ‰ìƒ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìƒ‰ìƒ ê°’ì„ ëœë¤ìœ¼ë¡œ ìƒì„±í•œ í›„ì— Planeì— `backgroundColorDidChanged(color:rectangle:)` ë¥¼ í†µí•´ í˜„ì¬ ì§ì‚¬ê°í˜•ê³¼ ë³€ê²½ëœ ìƒ‰ìƒì„ ì „ë‹¬í•˜ì˜€ìŠµë‹ˆë‹¤.
- ViewControllerë¥¼ SideInspectorViewì˜ delegateë¡œ ì§€ì •í–ˆê³ , ë³€ê²½ëœ ìŠ¬ë¼ì´ë” ì•ŒíŒŒ ê°’ì„ Planeì— `alphaValueDidChanged(alpha:rectangle:)` ë©”ì†Œë“œë¥¼ í†µí•´ í˜„ì¬ ì§ì‚¬ê°í˜•ê³¼ ë³€ê²½ëœ íˆ¬ëª…ë„ ê°’ì„ ì „ë‹¬í•˜ì˜€ìŠµë‹ˆë‹¤.
- Planeì—ì„œëŠ” ì†ì„±ì´ ë³€ê²½ëœ ì§ì‚¬ê°í˜•ì„ ì°¾ì•„ì„œ ê°’ì„ ë³€ê²½í•œ í›„ì— ViewControllerì— `planeDidChangedRectangle(_:)` ë©”ì†Œë“œë¡œ ë³€ê²½ëœ ì§ì‚¬ê°í˜•ì„ ì•Œë ¸ê³ , ViewControllerëŠ” CanvasViewì—ê²Œ í•´ë‹¹ ì†ì„±ì´ ë³€ê²½ëœ ê²ƒì„ ë·°ì— ì•Œë¦¬ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤. (`changeRectangle(_:)`)

## í”¼ë“œë°± ë°˜ì˜ ì‚¬í•­

- ì†Œìˆ«ì  ê°’ì„ ì œí•œí•˜ê¸° ìœ„í•´ round() í•¨ìˆ˜ ì‚¬ìš©
- í•©ì³ì§„ ì…ë ¥ê³¼ ì¶œë ¥ì˜ íë¦„ ë¶„ë¦¬
- í•¨ìˆ˜ ì´ë¦„ ë³€ê²½ (`planeDidAddedRectangle` -> `planeDidAddRectangle` )
- isRectangleExist í•¨ìˆ˜ê°€ plane ë‚´ë¶€ ì†ì„±ì´ ì•„ë‹Œ rectangle ë‚´ë¶€ ì†ì„±ê³¼ ê´€ë ¨ ìˆë„ë¡ ê°œì„ 
- ìƒ‰ìƒ ë³€ê²½ ì‹œ String íƒ€ì…ì„ ì „ë‹¬í•˜ì—¬ ë³€í™˜í•˜ë˜ ê²ƒì„ êµ¬ì²´ íƒ€ì…ì„ í™œìš©í•  ìˆ˜ ìˆë„ë¡ Color íƒ€ì…ìœ¼ë¡œ ë³€í™˜
- Planeì—ì„œ í„°ì¹˜ëœ ì¢Œí‘œì— ì§ì‚¬ê°í˜•ì´ ìˆëŠ”ì§€ ì°¾ì„ ë•Œ forë¬¸ ëŒ€ì‹  `firstIndex(of:)`ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½
- ë·°ê°€ ëª¨ë¸ì„ ê°–ì§€ ì•Šë„ë¡ ë³€ê²½
- ì‚¬ê°í˜• ë·°ë¥¼ ìƒì„±í•˜ê³  ì¶”ê°€í•˜ëŠ” ì—­í• ì€ ë·°ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í•˜ë„ë¡ ë³€ê²½
- RectangleView.swift, CanvasView.swift íŒŒì¼ ì œê±°í•˜ê³  typealiasë¥¼ í™œìš©

## ğŸ’¡ í•™ìŠµ í‚¤ì›Œë“œ

- ì•„ì´íŒ¨ë“œ
- í´ë˜ìŠ¤
- ë·° ëª¨ë¸
- viewDidLayoutSubviews()
- MVC
- Delegate
- Protocol
- layer
- Hashable
- [UIGestureRecognizerDelegate](https://developer.apple.com/documentation/uikit/uigesturerecognizerdelegate)
